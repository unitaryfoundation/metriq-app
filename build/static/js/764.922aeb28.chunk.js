"use strict";(self.webpackChunkmetriq=self.webpackChunkmetriq||[]).push([[764],{764:(s,e,i)=>{i.r(e),i.d(e,{default:()=>x});var n=i(6213),t=i(5043),a=i(2582),o=i(3488),l=i.n(o),r=i(1036),d=i(6579),c=i(2639),m=i(381),u=i(3875),h=i(6784),b=i(5319),p=i(579);r.Yv.add(c.AaJ);const x=s=>{const e=s.item.description?s.item.description.length>500?s.item.description.substring(0,497)+"...":s.item.description:"",i=s.item.tags?s.item.tags.map(((s,e)=>s.name)):[],[o,r]=(0,t.useState)(s.item.upvotesCount||0),[x,j]=(0,t.useState)(s.item.isUpvoted);return(0,p.jsxs)("div",{className:"submission submission-large submission-shadow",children:[(0,p.jsx)(a.N_,{to:"/Submission/"+s.item.id,children:(0,p.jsxs)("div",{className:"row h-100",children:[(0,p.jsx)("div",{className:"col-md-2 col-sm-12 h-100",children:(0,p.jsx)("img",{src:s.item.thumbnailUrl?s.item.thumbnailUrl:m,alt:"Submission thumbnail",className:"submission-image"})}),(0,p.jsxs)("div",{className:"col-md-8 col-sm-12 h-100",children:[(0,p.jsxs)("div",{className:"submission-heading",children:[s.item.name," ",s.isEditView&&" - "," ",s.isEditView&&(0,p.jsx)("b",{children:s.isDraft?"Unpublished draft":s.isUnderReview?"Under Review":"Approved"})]}),(0,p.jsx)("div",{className:"submission-description",children:e?(0,b.z)(e.replace(/\0.*$/g,"").split(". ")[0]+"."):(0,p.jsx)("i",{children:"(No description provided.)"})}),i.length>0&&(0,p.jsxs)("div",{className:"submission-description",children:[(0,p.jsx)("b",{children:"Tags: "}),i.map(((s,e)=>(0,p.jsxs)("span",{children:[e>0&&(0,p.jsx)("span",{children:" \u2022 "}),(0,p.jsx)(a.N_,{to:"/Tag/"+s,children:(0,p.jsx)("span",{className:"link",children:s})})]},s)))]})]}),(0,p.jsx)("div",{className:"col-md-2 col-sm-12 h-100"})]})}),(0,p.jsx)("hr",{}),(0,p.jsxs)("div",{className:"row submission-social-row",children:[(0,p.jsx)("div",{className:s.isDraft?"col-md-7 h-100":"col-md-9 h-100",children:(0,p.jsxs)("div",{className:"submission-subheading",children:[(0,p.jsx)(h.default,{message:"User submissions link",children:(0,p.jsx)(a.N_,{to:"/User/"+s.item.userId+"/Submissions",children:(0,p.jsxs)("span",{className:"link",children:["Submitted by ",s.item.username]})})}),"\xa0\u2022\xa0",(0,p.jsx)(h.default,{message:"Submission link",children:(0,p.jsxs)("span",{children:[(0,p.jsx)("span",{onClick:e=>{window.open(s.item.contentUrl,"_blank"),e.preventDefault()},className:"link wrap",children:(()=>{const e=String(s.item.contentUrl);return e.includes("arxiv")?(0,p.jsxs)("span",{children:[" ",(0,p.jsx)(d.g,{icon:c.AaJ})," arXiv:",e.split("/abs/")[1]," "]}):e.includes("github")?(0,p.jsxs)("span",{children:[" ",(0,p.jsx)(d.g,{icon:c.AaJ})," GitHub:",e.split(".com/")[1]," "]}):(0,p.jsxs)("span",{children:[" ",(0,p.jsx)(d.g,{icon:c.AaJ})," Link:",e," "]})})()}),"\xa0\u2022\xa0",s.item.createdAt?new Date(s.item.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):""]})})]})}),(0,p.jsxs)("div",{className:s.isDraft?"col-md-3 text-end":"col-md-1 text-end",children:[s.isDraft&&(0,p.jsx)(h.default,{message:"Publish submission",children:(0,p.jsx)("span",{children:s.isEditView&&(0,p.jsx)("button",{className:"delete-button btn btn-danger submission-ref-button",onClick:e=>{let i=window.prompt('To publish your submission, type its name below, then hit "OK." (You can\'t "unpublish" your submission after that point, only delete it.)\n\n'+s.item.name,"");if(i&&(i=i.trim().toLowerCase()),i&&i===s.item.nameNormal){const e={...s.item};e.isPublished=!0,n.A.post(l().api.getUriPrefix()+"/submission/"+s.item.id,e).then((s=>{window.location="/Submissions"})).catch((s=>{window.alert("Error: "+(0,u.A)(s)+"\nSorry! Check your connection and login status, and try again.")}))}else window.alert("The submission was not published. (Please enter the correct submission name, to publish.)");e.preventDefault()},children:"Publish"})})}),(0,p.jsx)(h.default,{message:"Delete submission",children:(0,p.jsx)("span",{children:s.isEditView&&(0,p.jsx)("button",{className:"delete-button btn btn-danger submission-ref-button",onClick:e=>{let i=window.prompt('To delete your submission, type its name below, then hit "OK."\n\n'+s.item.name,"");i&&(i=i.trim().toLowerCase()),i&&i===s.item.nameNormal?n.A.delete(l().api.getUriPrefix()+"/submission/"+s.item.id,{}).then((s=>{window.location="/Submissions"})).catch((s=>{window.alert("Error: "+(0,u.A)(s)+"\nSorry! Check your connection and login status, and try again.")})):window.alert("The submission was not deleted. (Please enter the correct submission name, to delete.)"),e.preventDefault()},children:"Delete"})})})]}),(0,p.jsx)("div",{className:"col-md-2 text-center",children:(0,p.jsx)(h.default,{message:"Upvote submission",children:(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{id:x?"heart-full":"heart-empty",onClick:e=>{s.isLoggedIn?n.A.post(l().api.getUriPrefix()+"/submission/"+s.item.id+"/upvote",{}).then((s=>{r(s.data.data.upvotesCount),j(s.data.data.isUpvoted)})).catch((s=>{window.alert("Error: "+(0,u.A)(s)+"\nSorry! Check your connection and login status, and try again.")})):window.location="/Login",e.preventDefault()}}),(0,p.jsx)("span",{className:"submission-like-count",children:o})]})})})]})]})}}}]);
//# sourceMappingURL=764.922aeb28.chunk.js.map