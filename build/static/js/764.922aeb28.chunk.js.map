{"version":3,"file":"static/js/764.922aeb28.chunk.js","mappings":"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","sources":["components/SubmissionBox.js"],"sourcesContent":["import axios from 'axios'\r\nimport React, { useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport config from './../config'\r\nimport { library } from '@fortawesome/fontawesome-svg-core'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faExternalLinkAlt } from '@fortawesome/free-solid-svg-icons'\r\nimport logo from './../images/metriq_logo_secondary_blue.png'\r\nimport ErrorHandler from './ErrorHandler'\r\nimport TooltipTrigger from './TooltipTrigger'\r\nimport { renderLatex } from './RenderLatex'\r\n\r\nlibrary.add(faExternalLinkAlt)\r\n\r\nconst SubmissionBox = (props) => {\r\n  const description = !props.item.description\r\n    ? ''\r\n    : ((props.item.description.length > 500)\r\n        ? (props.item.description.substring(0, 497) + '...')\r\n        : props.item.description)\r\n  const tags = props.item.tags ? props.item.tags.map((obj, ind) => obj.name) : []\r\n\r\n  const [upvotes, setUpvotes] = useState(props.item.upvotesCount || 0)\r\n  const [isUpvoted, setIsUpvoted] = useState(props.item.isUpvoted)\r\n\r\n  const handleDeleteOnClick = (event) => {\r\n    let confirmString = window.prompt('To delete your submission, type its name below, then hit \"OK.\"\\n\\n' + props.item.name, '')\r\n    if (confirmString) {\r\n      confirmString = confirmString.trim().toLowerCase()\r\n    }\r\n    if (confirmString && (confirmString === props.item.nameNormal)) {\r\n      axios.delete(config.api.getUriPrefix() + '/submission/' + props.item.id, {})\r\n        .then(res => {\r\n          window.location = '/Submissions'\r\n        })\r\n        .catch(err => {\r\n          window.alert('Error: ' + ErrorHandler(err) + '\\nSorry! Check your connection and login status, and try again.')\r\n        })\r\n    } else {\r\n      window.alert('The submission was not deleted. (Please enter the correct submission name, to delete.)')\r\n    }\r\n    event.preventDefault()\r\n  }\r\n\r\n  const handlePublishOnClick = (event) => {\r\n    let confirmString = window.prompt('To publish your submission, type its name below, then hit \"OK.\" (You can\\'t \"unpublish\" your submission after that point, only delete it.)\\n\\n' + props.item.name, '')\r\n    if (confirmString) {\r\n      confirmString = confirmString.trim().toLowerCase()\r\n    }\r\n    if (confirmString && (confirmString === props.item.nameNormal)) {\r\n      const submission = { ...(props.item) }\r\n      submission.isPublished = true\r\n      axios.post(config.api.getUriPrefix() + '/submission/' + props.item.id, submission)\r\n        .then(res => {\r\n          window.location = '/Submissions'\r\n        })\r\n        .catch(err => {\r\n          window.alert('Error: ' + ErrorHandler(err) + '\\nSorry! Check your connection and login status, and try again.')\r\n        })\r\n    } else {\r\n      window.alert('The submission was not published. (Please enter the correct submission name, to publish.)')\r\n    }\r\n    event.preventDefault()\r\n  }\r\n\r\n  const handleUpVoteOnClick = (event) => {\r\n    if (props.isLoggedIn) {\r\n      axios.post(config.api.getUriPrefix() + '/submission/' + props.item.id + '/upvote', {})\r\n        .then(res => {\r\n          setUpvotes(res.data.data.upvotesCount)\r\n          setIsUpvoted(res.data.data.isUpvoted)\r\n        })\r\n        .catch(err => {\r\n          window.alert('Error: ' + ErrorHandler(err) + '\\nSorry! Check your connection and login status, and try again.')\r\n        })\r\n    } else {\r\n      window.location = '/Login'\r\n    }\r\n    event.preventDefault()\r\n  }\r\n\r\n  const handleExternalLinkClick = (event) => {\r\n    window.open(props.item.contentUrl, '_blank')\r\n    event.preventDefault()\r\n  }\r\n\r\n  const parseContentUrl = () => {\r\n    const urlStr = String(props.item.contentUrl)\r\n    if (urlStr.includes('arxiv')) {\r\n      return <span> <FontAwesomeIcon icon={faExternalLinkAlt} /> arXiv:{urlStr.split('/abs/')[1]} </span>\r\n    } else if (urlStr.includes('github')) {\r\n      return <span> <FontAwesomeIcon icon={faExternalLinkAlt} /> GitHub:{urlStr.split('.com/')[1]} </span>\r\n    } else {\r\n      return <span> <FontAwesomeIcon icon={faExternalLinkAlt} /> Link:{urlStr} </span>\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className='submission submission-large submission-shadow'>\r\n      <Link to={'/Submission/' + props.item.id}>\r\n        <div className='row h-100'>\r\n          <div className='col-md-2 col-sm-12 h-100'>\r\n            <img src={props.item.thumbnailUrl ? props.item.thumbnailUrl : logo} alt='Submission thumbnail' className='submission-image' />\r\n          </div>\r\n          <div className='col-md-8 col-sm-12 h-100'>\r\n            <div className='submission-heading'>{props.item.name} {props.isEditView && ' - '} {props.isEditView && <b>{props.isDraft ? 'Unpublished draft' : props.isUnderReview ? 'Under Review' : 'Approved'}</b>}</div>\r\n            <div className='submission-description'>\r\n              {description\r\n                ? renderLatex(description.replace(/\\0.*$/g, '').split('. ')[0] + '.')\r\n                : <i>(No description provided.)</i>}\r\n            </div>\r\n            {tags.length > 0 &&\r\n              <div className='submission-description'>\r\n                <b>Tags: </b>{tags.map((obj, ind) => <span key={obj}>{ind > 0 && <span> • </span>}<Link to={'/Tag/' + obj}><span className='link'>{obj}</span></Link></span>)}\r\n              </div>}\r\n          </div>\r\n          <div className='col-md-2 col-sm-12 h-100' />\r\n        </div>\r\n      </Link>\r\n      <hr />\r\n      <div className='row submission-social-row'>\r\n        <div className={props.isDraft ? 'col-md-7 h-100' : 'col-md-9 h-100'}>\r\n          <div className='submission-subheading'>\r\n            <TooltipTrigger message='User submissions link'>\r\n              <Link to={'/User/' + props.item.userId + '/Submissions'}><span className='link'>Submitted by {props.item.username}</span></Link>\r\n            </TooltipTrigger>&nbsp;•&nbsp;\r\n            <TooltipTrigger message='Submission link'>\r\n              <span>\r\n                <span onClick={handleExternalLinkClick} className='link wrap'>\r\n                  {parseContentUrl()}\r\n                </span>&nbsp;•&nbsp;\r\n                {props.item.createdAt ? new Date(props.item.createdAt).toLocaleDateString('en-US', { year: 'numeric', month: 'short', day: 'numeric' }) : ''}\r\n              </span>\r\n            </TooltipTrigger>\r\n          </div>\r\n        </div>\r\n        <div className={props.isDraft ? 'col-md-3 text-end' : 'col-md-1 text-end'}>\r\n          {props.isDraft &&\r\n            <TooltipTrigger message='Publish submission'>\r\n              <span>{props.isEditView && <button className='delete-button btn btn-danger submission-ref-button' onClick={handlePublishOnClick}>Publish</button>}</span>\r\n            </TooltipTrigger>}\r\n          <TooltipTrigger message='Delete submission'>\r\n            <span>{props.isEditView && <button className='delete-button btn btn-danger submission-ref-button' onClick={handleDeleteOnClick}>Delete</button>}</span>\r\n          </TooltipTrigger>\r\n        </div>\r\n        <div className='col-md-2 text-center'>\r\n          <TooltipTrigger message='Upvote submission'>\r\n            <div>\r\n              <div id={isUpvoted ? 'heart-full' : 'heart-empty'} onClick={handleUpVoteOnClick} />\r\n              <span className='submission-like-count'>{upvotes}</span>\r\n            </div>\r\n          </TooltipTrigger>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SubmissionBox\r\n"],"names":["library","add","faExternalLinkAlt","props","description","item","length","substring","tags","map","obj","ind","name","upvotes","setUpvotes","useState","upvotesCount","isUpvoted","setIsUpvoted","_jsxs","className","children","_jsx","Link","to","id","src","thumbnailUrl","logo","alt","isEditView","isDraft","isUnderReview","renderLatex","replace","split","TooltipTrigger","message","userId","username","onClick","event","window","open","contentUrl","preventDefault","parseContentUrl","urlStr","String","includes","FontAwesomeIcon","icon","createdAt","Date","toLocaleDateString","year","month","day","confirmString","prompt","trim","toLowerCase","nameNormal","submission","isPublished","axios","post","config","getUriPrefix","then","res","location","catch","err","alert","ErrorHandler","delete","isLoggedIn","data"],"sourceRoot":""}